function EDMONDS-KARP(graph, source, sink):
    max_flow = 0
    residual = graph.copy()

    while there exists a path from source to sink using BFS in residual:
        path_flow = âˆž
        
        # find bottleneck capacity
        for each edge (u, v) in path:
            path_flow = min(path_flow, residual[u][v])

        # update residual capacities
        for each edge (u, v) in path:
            residual[u][v] -= path_flow
            residual[v][u] += path_flow

        max_flow = max_flow + path_flow

    return max_flow
